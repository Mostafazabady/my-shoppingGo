"use strict";(self.webpackChunkShopping_go=self.webpackChunkShopping_go||[]).push([[997],{3997:(O,u,l)=>{l.r(u),l.d(u,{RegisterComponent:()=>x});var d=l(177),i=l(4341),c=l(3276),f=l(1626),e=l(2598),E=l(3100);function F(r,s){1&r&&(e.j41(0,"p"),e.EFF(1,"** name is requierd **"),e.k0s())}function h(r,s){1&r&&(e.j41(0,"p"),e.EFF(1,"** name minLength is 3 **"),e.k0s())}function v(r,s){1&r&&(e.j41(0,"p"),e.EFF(1,"** name maxLength is 10 **"),e.k0s())}function R(r,s){if(1&r&&(e.j41(0,"div",13),e.DNE(1,F,2,0,"p",14),e.DNE(2,h,2,0,"p",14),e.DNE(3,v,2,0,"p",14),e.k0s()),2&r){const n=e.XpG();let o,t,a;e.R7$(1),e.Y8G("ngIf",null==(o=n.registerForm.get("name"))?null:o.getError("required")),e.R7$(1),e.Y8G("ngIf",null==(t=n.registerForm.get("name"))?null:t.getError("minlength")),e.R7$(1),e.Y8G("ngIf",null==(a=n.registerForm.get("name"))?null:a.getError("maxlength"))}}function C(r,s){1&r&&(e.j41(0,"p"),e.EFF(1,"** email is requierd **"),e.k0s())}function w(r,s){1&r&&(e.j41(0,"p"),e.EFF(1,"** email invalid format **"),e.k0s())}function D(r,s){if(1&r&&(e.j41(0,"div",13),e.DNE(1,C,2,0,"p",14),e.DNE(2,w,2,0,"p",14),e.k0s()),2&r){const n=e.XpG();let o,t;e.R7$(1),e.Y8G("ngIf",null==(o=n.registerForm.get("email"))?null:o.getError("required")),e.R7$(1),e.Y8G("ngIf",null==(t=n.registerForm.get("email"))?null:t.getError("email"))}}function k(r,s){1&r&&(e.j41(0,"p"),e.EFF(1,"** password is requierd **"),e.k0s())}function I(r,s){1&r&&(e.j41(0,"p"),e.EFF(1,"** password must be at least 6 chars **"),e.k0s())}function P(r,s){if(1&r&&(e.j41(0,"div",13),e.DNE(1,k,2,0,"p",14),e.DNE(2,I,2,0,"p",14),e.k0s()),2&r){const n=e.XpG();let o,t;e.R7$(1),e.Y8G("ngIf",null==(o=n.registerForm.get("password"))?null:o.getError("required")),e.R7$(1),e.Y8G("ngIf",null==(t=n.registerForm.get("password"))?null:t.getError("pattern"))}}function G(r,s){1&r&&(e.j41(0,"p"),e.EFF(1,"** rePassword is requierd **"),e.k0s())}function T(r,s){1&r&&(e.j41(0,"p"),e.EFF(1,"** password confirmation is incorrect **"),e.k0s())}function M(r,s){if(1&r&&(e.j41(0,"div",13),e.DNE(1,G,2,0,"p",14),e.DNE(2,T,2,0,"p",14),e.k0s()),2&r){const n=e.XpG();let o,t;e.R7$(1),e.Y8G("ngIf",null==(o=n.registerForm.get("rePassword"))?null:o.getError("required")),e.R7$(1),e.Y8G("ngIf",null==(t=n.registerForm.get("rePassword"))?null:t.getError("mismatch"))}}function N(r,s){1&r&&(e.j41(0,"p"),e.EFF(1,"** phone is requierd **"),e.k0s())}function j(r,s){1&r&&(e.j41(0,"p"),e.EFF(1,"** accept only egypt phone numbers **"),e.k0s())}function $(r,s){if(1&r&&(e.j41(0,"div",13),e.DNE(1,N,2,0,"p",14),e.DNE(2,j,2,0,"p",14),e.k0s()),2&r){const n=e.XpG();let o,t;e.R7$(1),e.Y8G("ngIf",null==(o=n.registerForm.get("phone"))?null:o.getError("required")),e.R7$(1),e.Y8G("ngIf",null==(t=n.registerForm.get("phone"))?null:t.getError("pattern"))}}function Y(r,s){if(1&r&&(e.j41(0,"p",13),e.EFF(1),e.k0s()),2&r){const n=e.XpG();e.R7$(1),e.JRh(n.errMsg)}}let x=(()=>{class r{constructor(n,o){this._AuthService=n,this._Router=o,this.errMsg="",this.registerForm=new i.gE({name:new i.MJ("",[i.k0.required,i.k0.minLength(3),i.k0.maxLength(30)]),email:new i.MJ("",[i.k0.required,i.k0.email]),password:new i.MJ("",[i.k0.required,i.k0.pattern(/^\w{6,}$/)]),rePassword:new i.MJ(""),phone:new i.MJ("",[i.k0.required,i.k0.pattern(/^01[0125][0-9]{8}$/)])},{validators:[this.confirmPassword]})}confirmPassword(n){const o=n.get("password"),t=n.get("rePassword");""===t?.value?t.setErrors({required:!0}):o?.value!==t?.value&&t?.setErrors({mismatch:!0})}handleForm(){const n=this.registerForm.value,o=this.registerForm.valid;console.log(this.registerForm.value),o&&this._AuthService.registerForm(n).subscribe({next:t=>{console.log(t),"success"===t.message&&this._Router.navigate(["/login"])},error:t=>{this.errMsg=t.error.message}})}static{this.\u0275fac=function(o){return new(o||r)(e.rXU(E.u),e.rXU(c.Ix))}}static{this.\u0275cmp=e.VBU({type:r,selectors:[["app-register"]],standalone:!0,features:[e.aNF],decls:22,vars:8,consts:[[1,"wrapper"],[1,"form","signup"],[3,"formGroup","ngSubmit"],["formControlName","name","type","text","placeholder","Full name",1,"father-warn"],["class","warn alert alert-danger",4,"ngIf"],["formControlName","email","type","email","placeholder","Email address"],["formControlName","password","type","password","placeholder","Password"],["formControlName","rePassword","type","password","placeholder","Confirm Password"],["formControlName","phone","type","tel","placeholder","phone"],[1,"contain-bts-signup"],["type","submit",3,"disabled"],[1,"checkbox"],["routerLink","/login"],[1,"warn","alert","alert-danger"],[4,"ngIf"]],template:function(o,t){if(1&o&&(e.j41(0,"section",0)(1,"div",1)(2,"header"),e.EFF(3,"Signup"),e.k0s(),e.j41(4,"form",2),e.bIt("ngSubmit",function(){return t.handleForm()}),e.nrm(5,"input",3),e.DNE(6,R,4,3,"div",4),e.nrm(7,"input",5),e.DNE(8,D,3,2,"div",4),e.nrm(9,"input",6),e.DNE(10,P,3,2,"div",4),e.nrm(11,"input",7),e.DNE(12,M,3,2,"div",4),e.nrm(13,"input",8),e.DNE(14,$,3,2,"div",4),e.j41(15,"div",9)(16,"button",10),e.EFF(17,"SignUp"),e.k0s()(),e.DNE(18,Y,2,1,"p",4),e.k0s(),e.j41(19,"div",11)(20,"a",12),e.EFF(21,"I already have account"),e.k0s()()()()),2&o){let a,m,p,g,_;e.R7$(4),e.Y8G("formGroup",t.registerForm),e.R7$(2),e.Y8G("ngIf",(null==(a=t.registerForm.get("name"))?null:a.touched)&&(null==(a=t.registerForm.get("name"))?null:a.errors)),e.R7$(2),e.Y8G("ngIf",(null==(m=t.registerForm.get("email"))?null:m.touched)&&(null==(m=t.registerForm.get("email"))?null:m.errors)),e.R7$(2),e.Y8G("ngIf",(null==(p=t.registerForm.get("password"))?null:p.touched)&&(null==(p=t.registerForm.get("password"))?null:p.errors)),e.R7$(2),e.Y8G("ngIf",(null==(g=t.registerForm.get("rePassword"))?null:g.touched)&&(null==(g=t.registerForm.get("rePassword"))?null:g.errors)),e.R7$(2),e.Y8G("ngIf",(null==(_=t.registerForm.get("phone"))?null:_.touched)&&(null==(_=t.registerForm.get("phone"))?null:_.errors)),e.R7$(2),e.Y8G("disabled",t.registerForm.invalid),e.R7$(2),e.Y8G("ngIf",t.errMsg)}},dependencies:[d.MD,d.bT,i.X1,i.qT,i.me,i.BC,i.cb,i.j4,i.JD,c.Wk,f.q1],styles:[".warn[_ngcontent-%COMP%]{padding:0;transition:.7s ease;text-align:center;width:-moz-fit-content;width:fit-content;gap:0}.warn[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0;margin:0}"]})}}return r})()}}]);