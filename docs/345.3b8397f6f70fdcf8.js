"use strict";(self.webpackChunkShopping_go=self.webpackChunkShopping_go||[]).push([[345],{8964:(m,l,i)=>{i.d(l,{m:()=>g});var d=i(2598),s=i(1626);let g=(()=>{class t{constructor(o){this._HttpClient=o,this.cartCount=(0,d.vPA)(0),this.myHeaders={token:localStorage.getItem("_token")},this.baseUrl="https://ecommerce.routemisr.com/api/v1/cart",localStorage.getItem("_token")&&this.getCart().subscribe({next:c=>this.cartCount.set(c.numOfCartItems),error:c=>console.log(c)})}addToCart(o){return this._HttpClient.post(this.baseUrl,{productId:o},{headers:this.myHeaders})}getCart(){return this._HttpClient.get(this.baseUrl,{headers:this.myHeaders})}removeSpecificCartItem(o){return this._HttpClient.delete(`${this.baseUrl}/${o}`,{headers:this.myHeaders})}clearCart(){return this._HttpClient.delete(this.baseUrl,{headers:this.myHeaders})}updateItemCount(o,c){return this._HttpClient.put(`${this.baseUrl}/${o}`,{count:c},{headers:this.myHeaders})}checkOut(o,c){return this._HttpClient.post(`https://ecommerce.routemisr.com/api/v1/orders/checkout-session/${o}?url=http://localhost:4200`,{shippingAddress:c},{headers:this.myHeaders})}static{this.\u0275fac=function(c){return new(c||t)(d.KVO(s.Qq))}}static{this.\u0275prov=d.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})()},1517:(m,l,i)=>{i.d(l,{F:()=>g});var d=i(2598),s=i(1626);let g=(()=>{class t{constructor(o){this._HttpClient=o,this.baseUrl="https://ecommerce.routemisr.com/api/v1/wishlist",this.myHeaders={token:localStorage.getItem("_token")}}addToWishlist(o){return this._HttpClient.post(this.baseUrl,{productId:o},{headers:this.myHeaders})}getWishlist(){return this._HttpClient.get(this.baseUrl,{headers:this.myHeaders})}removeFromWishlist(o){return this._HttpClient.delete(`${this.baseUrl}/${o}`,{headers:this.myHeaders})}static{this.\u0275fac=function(c){return new(c||t)(d.KVO(s.Qq))}}static{this.\u0275prov=d.jDH({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})()},1345:(m,l,i)=>{i.r(l),i.d(l,{WishlistComponent:()=>x});var d=i(177),s=i(9969),g=i(3276),t=i(2598),u=i(1517),o=i(8964),c=i(8256);function f(e,p){if(1&e&&(t.j41(0,"span",6),t.EFF(1),t.k0s()),2&e){const n=t.XpG();t.R7$(1),t.SpI(" ",n.wishlistProducts.length," Items ")}}function C(e,p){1&e&&t.nrm(0,"div",9)}const P=function(){return[1,2,3,4]};function O(e,p){1&e&&(t.j41(0,"div",7),t.DNE(1,C,1,0,"div",8),t.k0s()),2&e&&(t.R7$(1),t.Y8G("ngForOf",t.lJ4(1,P)))}function M(e,p){if(1&e){const n=t.RV6();t.j41(0,"div",11)(1,"button",12),t.bIt("click",function(){const _=t.eBV(n).$implicit,h=t.XpG(2);return t.Njj(h.removeItem(_.id))}),t.nrm(2,"i",13),t.k0s(),t.j41(3,"div",14),t.nrm(4,"img",15),t.j41(5,"div",16)(6,"button",17),t.EFF(7,"View Details"),t.k0s()()(),t.j41(8,"div",18)(9,"span",19),t.EFF(10),t.k0s(),t.j41(11,"h3",20),t.EFF(12),t.nI1(13,"slice"),t.k0s(),t.j41(14,"div",21)(15,"span",22),t.EFF(16),t.nI1(17,"currency"),t.k0s(),t.j41(18,"span",23),t.nrm(19,"i",24),t.EFF(20),t.k0s()(),t.j41(21,"button",25),t.bIt("click",function(){const _=t.eBV(n).$implicit,h=t.XpG(2);return t.Njj(h.addToCart(_.id))}),t.nrm(22,"i",26),t.EFF(23," Add to Cart "),t.k0s()()()}if(2&e){const n=p.$implicit;t.R7$(4),t.Y8G("src",n.imageCover,t.B4B)("alt",n.title),t.R7$(6),t.JRh(n.category.name),t.R7$(2),t.SpI("",t.brH(13,6,n.title,0,25),"..."),t.R7$(4),t.JRh(t.i5U(17,10,n.price,"EGP ")),t.R7$(4),t.SpI(" ",n.ratingsAverage," ")}}function v(e,p){if(1&e&&(t.j41(0,"div",7),t.DNE(1,M,24,13,"div",10),t.k0s()),2&e){const n=t.XpG();t.Y8G("@gridAnimation",n.wishlistProducts.length),t.R7$(1),t.Y8G("ngForOf",n.wishlistProducts)}}function b(e,p){1&e&&(t.j41(0,"div",27)(1,"div",28),t.nrm(2,"i",29),t.k0s(),t.j41(3,"h2"),t.EFF(4,"Your Wishlist is Empty"),t.k0s(),t.j41(5,"p"),t.EFF(6,"Save items you love here to buy them later."),t.k0s(),t.j41(7,"button",30),t.EFF(8,"Continue Shopping"),t.k0s()())}let x=(()=>{class e{constructor(n,a,r){this._WishlistService=n,this._CartService=a,this._ToastrService=r,this.wishlistProducts=[],this.isLoading=!0}ngOnInit(){this.loadWishlist()}loadWishlist(){this.isLoading=!0,this._WishlistService.getWishlist().subscribe({next:n=>{this.wishlistProducts=n.data,this.isLoading=!1},error:n=>{console.log(n),this.isLoading=!1}})}removeItem(n){const a=this.wishlistProducts;this.wishlistProducts=this.wishlistProducts.filter(r=>r.id!==n),this._WishlistService.removeFromWishlist(n).subscribe({next:r=>{},error:r=>{this.wishlistProducts=a,console.log(r)}})}addToCart(n){this._CartService.addToCart(n).subscribe({next:a=>{this._CartService.cartCount.set(a.numOfCartItems),console.log("Added to Cart",a),this._ToastrService.success(a.message),this.removeItem(n)}})}static{this.\u0275fac=function(a){return new(a||e)(t.rXU(u.F),t.rXU(o.m),t.rXU(c.tw))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-wishlist"]],standalone:!0,features:[t.aNF],decls:9,vars:4,consts:[[1,"wishlist-page"],[1,"container"],[1,"page-header"],["class","count-badge",4,"ngIf"],["class","grid-layout",4,"ngIf"],["class","empty-state",4,"ngIf"],[1,"count-badge"],[1,"grid-layout"],["class","skeleton-card",4,"ngFor","ngForOf"],[1,"skeleton-card"],["class","product-card",4,"ngFor","ngForOf"],[1,"product-card"],["title","Remove from wishlist",1,"remove-btn",3,"click"],[1,"fa-solid","fa-xmark"],[1,"img-wrapper"],["loading","lazy",3,"src","alt"],[1,"overlay"],[1,"quick-view"],[1,"card-content"],[1,"category"],[1,"title"],[1,"price-rating"],[1,"price"],[1,"rating"],[1,"fa-solid","fa-star"],[1,"add-cart-btn",3,"click"],[1,"fa-solid","fa-cart-plus"],[1,"empty-state"],[1,"heart-icon"],[1,"fa-regular","fa-heart"],["routerLink","/home",1,"shop-btn"]],template:function(a,r){1&a&&(t.j41(0,"section",0)(1,"div",1)(2,"div",2)(3,"h1"),t.EFF(4,"My Wishlist"),t.k0s(),t.DNE(5,f,2,1,"span",3),t.k0s(),t.DNE(6,O,2,2,"div",4),t.DNE(7,v,2,2,"div",4),t.DNE(8,b,9,0,"div",5),t.k0s()()),2&a&&(t.R7$(5),t.Y8G("ngIf",r.wishlistProducts.length),t.R7$(1),t.Y8G("ngIf",r.isLoading),t.R7$(1),t.Y8G("ngIf",!r.isLoading&&r.wishlistProducts.length>0),t.R7$(1),t.Y8G("ngIf",!r.isLoading&&0===r.wishlistProducts.length))},dependencies:[d.MD,d.Sq,d.bT,d.P9,d.oe,g.Wk],styles:[".wishlist-page[_ngcontent-%COMP%]{padding:50px 0;background-color:#f8f9fa;min-height:100vh;font-family:Poppins,sans-serif}.wishlist-page[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:0 20px}.page-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px;margin-bottom:40px}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.2rem;font-weight:800;color:#024d94;margin:0}.page-header[_ngcontent-%COMP%]   .count-badge[_ngcontent-%COMP%]{background:rgba(2,77,148,.1);color:#024d94;padding:5px 12px;border-radius:20px;font-weight:600;font-size:.9rem}.grid-layout[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:25px}.product-card[_ngcontent-%COMP%]{background:#ffffff;border-radius:16px;overflow:hidden;position:relative;box-shadow:0 10px 20px #0000000d;transition:all .3s cubic-bezier(.25,.8,.25,1);border:1px solid transparent}.product-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px);box-shadow:0 15px 30px #0000001a;border-color:#f8d171}.product-card[_ngcontent-%COMP%]:hover   .remove-btn[_ngcontent-%COMP%]{opacity:1;transform:scale(1)}.product-card[_ngcontent-%COMP%]:hover   .overlay[_ngcontent-%COMP%]{opacity:1}.product-card[_ngcontent-%COMP%]   .remove-btn[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;width:35px;height:35px;border-radius:50%;background:#ffffff;border:none;color:#ef4444;display:flex;align-items:center;justify-content:center;cursor:pointer;z-index:10;box-shadow:0 4px 10px #0000001a;opacity:0;transform:scale(.8);transition:.2s}.product-card[_ngcontent-%COMP%]   .remove-btn[_ngcontent-%COMP%]:hover{background:#ef4444;color:#fff}.product-card[_ngcontent-%COMP%]   .img-wrapper[_ngcontent-%COMP%]{height:220px;position:relative;background:#f4f4f4}.product-card[_ngcontent-%COMP%]   .img-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain;padding:20px;transition:.5s}.product-card[_ngcontent-%COMP%]   .img-wrapper[_ngcontent-%COMP%]   .overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.03);display:flex;align-items:center;justify-content:center;opacity:0;transition:.3s}.product-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{padding:20px}.product-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]{font-size:.8rem;color:#6b7280;text-transform:uppercase;letter-spacing:.5px}.product-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1rem;color:#1f2937;margin:8px 0;font-weight:600;line-height:1.4}.product-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .price-rating[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:15px}.product-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .price-rating[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;color:#024d94}.product-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .price-rating[_ngcontent-%COMP%]   .rating[_ngcontent-%COMP%]{font-size:.9rem;color:#1f2937}.product-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .price-rating[_ngcontent-%COMP%]   .rating[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#f8d171}.product-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .add-cart-btn[_ngcontent-%COMP%]{width:100%;padding:12px;background:#ffffff;color:#024d94;border:2px solid #024D94;border-radius:8px;font-weight:600;cursor:pointer;transition:.3s;display:flex;align-items:center;justify-content:center;gap:8px}.product-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .add-cart-btn[_ngcontent-%COMP%]:hover{background:#024D94;color:#fff}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:80px 20px;background:#ffffff;border-radius:20px;box-shadow:0 10px 30px #00000008}.empty-state[_ngcontent-%COMP%]   .heart-icon[_ngcontent-%COMP%]{font-size:4rem;color:#e5e7eb;margin-bottom:20px;animation:_ngcontent-%COMP%_pulse 2s infinite}.empty-state[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#024d94;margin-bottom:10px}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6b7280;margin-bottom:30px}.empty-state[_ngcontent-%COMP%]   .shop-btn[_ngcontent-%COMP%]{background:#024D94;color:#fff;padding:12px 30px;border:none;border-radius:50px;font-weight:600;cursor:pointer;transition:.3s}.empty-state[_ngcontent-%COMP%]   .shop-btn[_ngcontent-%COMP%]:hover{background:#02407b;box-shadow:0 5px 15px #024d944d}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(1)}50%{transform:scale(1.1)}to{transform:scale(1)}}.skeleton-card[_ngcontent-%COMP%]{height:380px;background:#e5e7eb;border-radius:16px;animation:_ngcontent-%COMP%_shimmer 1.5s infinite linear;background:linear-gradient(to right,#eff1f3 4%,#e2e2e2 25%,#eff1f3 36%);background-size:1000px 100%}@keyframes _ngcontent-%COMP%_shimmer{0%{background-position:-1000px 0}to{background-position:1000px 0}}"],data:{animation:[(0,s.hZ)("gridAnimation",[(0,s.kY)("* => *",[(0,s.P)(":enter",[(0,s.iF)({opacity:0,transform:"translateY(30px)"}),(0,s.yc)(50,[(0,s.i0)("500ms cubic-bezier(0.35, 0, 0.25, 1)",(0,s.iF)({opacity:1,transform:"translateY(0)"}))])],{optional:!0}),(0,s.P)(":leave",[(0,s.i0)("400ms ease-in",(0,s.iF)({opacity:0,transform:"scale(0.8)"}))],{optional:!0})])])]}})}}return e})()}}]);